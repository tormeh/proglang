program p:Nothing =
{
  synchronized variable synchronizedNumber:Integer = {synchronized(variable=0, writer=threadPrintHello)}
  threadPrintHello(synchronizedNumber)
  threadPrintWorld(synchronizedNumber)
  threadPrintLol()
}

thread threadPrintWorld(synchronizedNumber:Integer):Nothing =
{
  actionPrint("world ")
  actionPrint(synchronizedNumber)
  actionPrint("\n")
  threadPrintWorld()
}
  
thread threadPrintHello(synchronizedNumber:Integer):Nothing =
{
  actionPrint(synchronizedNumber)
  actionPrint(" Hello ")
  mutate(variable=synchronizedNumber, newValue=plus(left=synchronizedNumber, right=1))
  threadPrintHello()
}

thread threadPrintLol:Nothing =
{
  actionPrintLol()
  threadPrintLol()
}

action actionPrintLol:Nothing =
{
  actionPrint(" LOL ")
}
